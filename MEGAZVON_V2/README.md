# MEGAZVON_V2

### MEGAZVON_V2  Arduino MEGA2560 программа для автоматического перезвона колоколов по заданному расписанию.

### поддерживает 24 колокола, у каждого колокола своя настройка. одновременно можно ударить до 8 колоколов.
### есть функция отбивания часов колоколом. есть меню с настройками.
### расписание поддерживает 70 разных мелодий(26 встроеных, 44 на флншке)
### в расписании учтены будни и выходные. есть возможность отметить день как праздничный кнопкой.
### мелодии можно записывать с планшета
### также мелодии и расписание можно редактировать на флешке

#### created by : ss2s
<https://github.com/ss2s>

#### author of idea : Aleksandr K


#### Arduino MEGA 2560
#### 24 РЕЛЕ
#### RTC DS3231
#### LCD KeyPad Shield
#### bluetooth
#### MicroSD


### ВАЖНАЯ ИНФОРМАЦИЯ:

#### ВСЕ НАСТРОЙКИ ВЫНЕСЕНЫ В ОТДЕЛЬНЫЙ ФАЙЛ "config24.h"
#### НАСТРОЙКА ДЛИТЕЛЬНОСТИ КАЖДОЙ НОТЫ В ФАЙЛЕ "config24.h"
#### НАСТРОЙКИ МЕЛОДИЙ В ФАЙЛЕ "melody24.h"
#### НАСТРОЙКИ РАСПИСАНИЯ В ФАЙЛЕ НА ФЛЕШКЕ (НАСТРОЙКИ ПО УМОЛЧАНИЮ В ФАЙЛЕ "config24.h")

#### все нужные файлы находятся в папке с прошивкой

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

## ПРАВИЛА НАПИСАНИЯ МЕЛОДИЙ ДЛЯ ПЕРЕЗВОНА:

#### мелодии можно создавать при помощи специальных нот, MAX 24 ноты:
#### есть 4 способа

## 1
#### nota(12, 250, 2000);  // это пример ноты расширеными параметрами
#### (номер колокола, время удара в колокол в мс, время до вызова следующей ноты в мс)

## 2
#### nota12(2000);  // это пример ноты с одним параметром. номер ноты задается в названии ноты
#### время удара в колокол в мс берется из файла "config24.h"
#### номер ноты в названии (время до вызова следующей ноты в мс)

## 3
#### combo3(12, 14, 16, 2000);  // это пример комбо ноты. ударит одновременно в три колокола. максимальное комбо 8 нот.
#### в названии количество нот(1 колокол, 2 колокол, 3 колокол, время до вызова следующей ноты в мс)

## 4
#### с помощью Arduino, С/С++ синтаксиса. можно просто в функции мелодия управлять реле с помощю функций Arduino:
#### digitalWrite(номер пина к которому подключен пин, управляющий сигнал 0 или 1);
#### delay(задержка в мс);
#### можно комбинировать ноты и код Arduino.

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

## ПРИМЕР МЕЛОДИИ:

```
// мелодия EX1 пример мелодии с 1 набором нот
void melodiaEX1(){
	// здесь писать ноты
	enota(1, 95, 1000);    // 1 нота, реле 22 (время включения реле 95мс, задержка до следующей ноты 1000мс)
	enota(2, 105, 1000);   // 2 нота, реле 23 (время включения реле 105мс, задержка до следующей ноты 1000мс)
	enota(3, 100, 500);    // 3 нота, реле 24 (время включения реле 100мс, задержка до следующей ноты 500мс)
	enota(4, 100, 2000);   // 4 нота, реле 25 (время включения реле 100мс, задержка до следующей ноты 2000мс)
	enota(5, 100, 1000);   // 5 нота, реле 26 (время включения реле 100мс, задержка до следующей ноты 1000мс)
	enota(6, 100, 1000);   // 6 нота, реле 27 (время включения реле 100мс, задержка до следующей ноты 1000мс)
	enota(7, 100, 1000);   // 7 нота, реле 28 (время включения реле 100мс, задержка до следующей ноты 1000мс)
	enota(8, 100, 1000);   // 8 нота, реле 29 (время включения реле 100мс, задержка до следующей ноты 1000мс)
}

// мелодия EX2 пример мелодии со 2 набором нот
// для написания мелодий лучше использовать 2 или 3 набор нот. 1 для настройки колоколов и создания уникальных нот
void melodiaEX2(){
	// здесь писать ноты
	nota(1, 500);   // 1 нота, реле 22 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota(2, 500);   // 2 нота, реле 23 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota(3, 500);   // 3 нота, реле 24 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota(4, 500);   // 4 нота, реле 25 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota(5, 500);   // 5 нота, реле 26 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota(6, 500);   // 6 нота, реле 27 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota(7, 500);   // 7 нота, реле 28 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota(8, 500);   // 8 нота, реле 29 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)

	// пример комбо нот. удар в несколько колоколов одновременно
	combo2(1, 2, 500);   // комбо нота 2 колокола
	combo3(1, 2, 3, 500);   // комбо нота 3 колокола
	combo4(1, 2, 3, 4, 500);   // комбо нота 4 колокола
	combo5(1, 2, 3, 4, 5, 500);   // комбо нота 5 колоколов
	combo6(1, 2, 3, 4, 5, 6, 500);   // комбо нота 6 колоколов
	combo7(1, 2, 3, 4, 5, 6, 7, 500);   // комбо нота 7 колоколов
	combo8(1, 2, 3, 4, 5, 6, 7, 8, 500);   // комбо нота 8 колоколов
}

// мелодия EX3 пример мелодии с 3 набором нот
// для написания мелодий лучше использовать 2 или 3 набор нот. 1 для настройки колоколов и создания уникальных нот
void melodiaEX3(){
	// здесь писать ноты
	nota1(500);   // 1 нота, реле 22 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota2(500);   // 2 нота, реле 23 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota3(500);   // 3 нота, реле 24 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota4(500);   // 4 нота, реле 25 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota5(500);   // 5 нота, реле 26 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota6(500);   // 6 нота, реле 27 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota7(500);   // 7 нота, реле 28 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
	nota8(500);   // 8 нота, реле 29 (время включения реле задано в настройках нот, задержка до следующей ноты 500мс)
}
```

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

## ФУНКЦИИ МЕНЮ:

#### функция удара в любой колокол с настраиваемыми параметрами.(сервисная функция для подбора конфигурации)++
#### настройка длительности для каждой ноты (не путать с задержкой между нотами)++
#### список всех мелодий, с возможностью прослушать выбранную мелодию.++
#### настройка часов, время и дата.++
#### настройка праздничных дней автоматически в час ночи (ручная праздника настройка с основного экрана кнопкой вверх).+
#### bluetooth приложение для андроид для проигрывания записи и воспроизведения мелодий
